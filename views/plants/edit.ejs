<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    
    <title>Edit <%= plant.name %></title>
  </head>

  <body>

    <nav class="navbar is-light">
      <div class="navbar-menu is-active">
        <div class="navbar-start">
          <a class="navbar-item" href="/">Home</a>
          <a class="navbar-item" href="/plants">All Plants</a>
        </div>
      </div>
    </nav>
    <section class="section">
      <div class="container">
        <h1 class="title">Edit Plant: <%= plant.name %></h1>

        <form action="/plants/<%= plant._id %>?_method=PUT" method="POST" class="box">

          <div class="field">
            <label class="label" for="name">Plant name</label>
            <div class="control">
              <input class="input" type="text" name="name" value="<%= plant.name %>" required>
            </div>
          </div>

          <div class="field">
            <label class="label" for="species">Species</label>
            <div class="control">
              <input class="input" type="text" name="species" value="<%= plant.species %>">
            </div>
          </div>

          <div class="field">
            <label class="label" for="lastWatered">Last Watered</label>
            <div class="control">
              <input class="input" type="datetime-local" name="lastWatered" value="<%= plant.lastWatered ? plant.lastWatered.toISOString().slice(0,16) : '' %>">
            </div>
          </div>

          <div class="field">
            <label class="checkbox">
              <input type="checkbox" name="isHydroponic" <% if (plant.isHydroponic) { %>checked<% } %> >
              Grown hydroponically
            </label>
          </div>

          <div class="field">
            <label class="label" for="careLevel">Care Level</label>
            <div class="control">
              <input class="input" type="text" name="careLevel" value="<%= plant.careLevel %>">
            </div>
          </div>

          <div class="field">
            <label class="label" for="notes">Notes</label>
            <div class="control">
              <textarea class="textarea" name="notes"><%= plant.notes %></textarea>
            </div>
          </div>

          <div class="field">
            <div class="control">
              <button class="button is-primary" type="submit">Update Plant</button>
            </div>
          </div>

        </form>
      </div>
    </section>
  </body>
</html>
